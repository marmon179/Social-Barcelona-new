(this["webpackJsonpmy-app-social"]=this["webpackJsonpmy-app-social"]||[]).push([[0],{17:function(e,t,s){e.exports={postItem:"Post_postItem__ukIZz",postAvatar:"Post_postAvatar__J8PaC",postMessage:"Post_postMessage__25xok",angle:"Post_angle__11NYP"}},18:function(e,t,s){e.exports={wrapper:"Dialogs_wrapper__i2TJU",wrapperImage:"Dialogs_wrapperImage__31RUS",wrapperWrapper:"Dialogs_wrapperWrapper__3N0Am",dialogsWrapper:"Dialogs_dialogsWrapper__3NLDW",wrapperTextarea:"Dialogs_wrapperTextarea__1l0_e"}},20:function(e,t,s){e.exports={wrapperImg:"ProfileInfo_wrapperImg__3alXy",wrapperInfo:"ProfileInfo_wrapperInfo___Xmfc",wrapperTextInfo:"ProfileInfo_wrapperTextInfo__22zT5",imgAvatar:"ProfileInfo_imgAvatar__15bpd"}},23:function(e,t,s){e.exports={postList:"Posts_postList__1J7dT",wrapperDialogs:"Posts_wrapperDialogs__115nu",wrapperTextarea:"Posts_wrapperTextarea__3bl8m"}},26:function(e,t,s){e.exports={wrapper:"App_wrapper__2V1M4"}},29:function(e,t,s){e.exports={dialogName:"DialogItem_dialogName__2VBZG",activeLink:"DialogItem_activeLink__3IK2h"}},31:function(e,t,s){e.exports={userPhoto:"Users_userPhoto__233Xx",selectedPage:"Users_selectedPage__tagcj"}},32:function(e,t,s){e.exports={wrapper:"Profile_wrapper__1wbHz",wrapperDialogs:"Profile_wrapperDialogs__1Rflb"}},33:function(e,t,s){e.exports={header:"Header_header__3Fm84",loginBlock:"Header_loginBlock__1OZ0X"}},44:function(e,t,s){e.exports={message:"Message_message__3jJmh"}},52:function(e,t,s){},7:function(e,t,s){e.exports={navbar:"Navbar_navbar__14eAf",list:"Navbar_list__9BMCG",link:"Navbar_link__2N6MG",activeLink:"Navbar_activeLink__3gIL1"}},77:function(e,t,s){"use strict";s.r(t);var a=s(1),r=s.n(a),n=s(21),i=s.n(n),c=(s(52),s(26)),o=s.n(c),l=s(4),u=s(7),j=s.n(u),p=s(0),g=function(){return Object(p.jsx)("nav",{className:j.a.navbar,children:Object(p.jsxs)("ul",{className:j.a.list,children:[Object(p.jsx)("li",{children:Object(p.jsx)(l.b,{exact:!0,to:"/login",className:j.a.link,activeClassName:j.a.activeLink,children:"Login"})}),Object(p.jsx)("li",{children:Object(p.jsx)(l.b,{to:"/profile",className:j.a.link,activeClassName:j.a.activeLink,children:"Profile"})}),Object(p.jsx)("li",{children:Object(p.jsx)(l.b,{to:"/dialogs",className:j.a.link,activeClassName:j.a.activeLink,children:"Dialogs"})}),Object(p.jsx)("li",{children:Object(p.jsx)(l.b,{to:"/settings",className:j.a.link,activeClassName:j.a.activeLink,children:"Settings"})}),Object(p.jsx)("li",{children:Object(p.jsx)(l.b,{to:"/users",className:j.a.link,activeClassName:j.a.activeLink,children:"Users"})})]})})},d=s(3),b=s(13),O=s(2),h={dialogs:[{id:1,name:"Sascha"},{id:2,name:"Maksim"},{id:3,name:"Katia"}],messages:[{id:1,message:"Hello"},{id:2,message:"Hi!"},{id:3,message:"hello"}],messageForNewPostDialog:"",isAuth:!1},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST_DIALOG":var s={id:4,message:e.messageForNewPostDialog};return Object(O.a)(Object(O.a)({},e),{},{messages:[].concat(Object(b.a)(e.messages),[s]),messageForNewPostDialog:""});case"UPDATE_NEW_POST_TEXT_DIALOG":return Object(O.a)(Object(O.a)({},e),{},{messageForNewPostDialog:t.newText});default:return e}},m=s(18),x=s.n(m),_=s(29),v=s.n(_),P=function(e){var t="/dialogs/"+e.id;return Object(p.jsx)("div",{children:Object(p.jsx)(l.b,{to:t,className:v.a.dialogName,activeClassName:v.a.activeLink,children:e.name})})},w=s(44),N=s.n(w),D=function(e){return Object(p.jsx)("div",{className:N.a.message,children:e.message})},T=function(e){var t=e.dialogs.map((function(e){return Object(p.jsx)(P,{name:e.name,id:e.id},e.id)})),s=e.messages.map((function(e){return Object(p.jsx)("div",{children:Object(p.jsx)(D,{message:e.message,id:e.id},e.id)})}));return e.isAuth?Object(p.jsxs)("div",{className:x.a.wrapper,children:[Object(p.jsx)("div",{className:x.a.wrapperImage,children:Object(p.jsx)("img",{src:"https://www.fcbarcelona.com/photo-resources/2020/11/02/d2c1d3ab-437b-400a-8df2-3e420b9f0799/imatge_avatars02.jpg?width=1024&height=448",alt:"Barca"})}),Object(p.jsxs)("div",{className:x.a.wrapperWrapper,children:[Object(p.jsxs)("div",{className:x.a.dialogsWrapper,children:[Object(p.jsx)("div",{children:t}),Object(p.jsx)("div",{children:s})]}),Object(p.jsxs)("div",{className:x.a.wrapperTextarea,children:[Object(p.jsx)("div",{children:Object(p.jsx)("textarea",{value:e.messageForNewPostDialog,onChange:e.onPostChange})}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{onClick:e.addPost,children:"Add post"})})]})]})]}):Object(p.jsx)(d.a,{to:"/login"})},I=s(8),S=Object(I.b)((function(e){return{dialogs:e.dialogsPage.dialogs,messages:e.dialogsPage.messages,messageForNewPostDialog:e.dialogsPage.messageForNewPostDialog,isAuth:e.auth.isAuth}}),(function(e){return{onPostChange:function(t){var s=t.currentTarget.value;e({type:"UPDATE_NEW_POST_TEXT_DIALOG",newText:s})},addPost:function(){e({type:"ADD_POST_DIALOG"})}}}))(T),C=s(11),F=s(12),L=s(15),E=s(14),A=s(46),k=s.n(A).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"9cd2c268-195b-4b42-abcf-5a1644af026e"}}),U=function(e,t){return k.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},y=function(e){return k.get("profile/"+e)},G=function(){return k.get("auth/me")},W={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},M=function(e){return{type:"FOLLOW",userID:e}},R=function(e){return{type:"UNFOLLOW",userID:e}},z=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},B=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userID:t}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(O.a)(Object(O.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(O.a)(Object(O.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(O.a)(Object(O.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(O.a)(Object(O.a)({},e),{},{followed:!1}):e}))});case"SET_USERS":return Object(O.a)(Object(O.a)({},e),{},{users:t.users});case"SET_CURRENT_PAGE":return Object(O.a)(Object(O.a)({},e),{},{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(O.a)(Object(O.a)({},e),{},{totalUsersCount:t.count});case"TOGGLE_IS_FETCHING":return Object(O.a)(Object(O.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(O.a)(Object(O.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(b.a)(e.followingInProgress),[t.userID]):e.followingInProgress.filter((function(e){return e!=t.userID}))});default:return e}},H=s(31),X=s.n(H),Z=s.p+"static/media/user-male.3759889a.png",J=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),s=[],a=1;a<=t;a++)s.push(a);return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{children:s.map((function(t){return Object(p.jsx)("span",{className:e.currentPage===t?X.a.selectedPage:"",onClick:function(){e.onPageChanged(t)},children:t})}))}),e.users.users.map((function(t){return Object(p.jsxs)("div",{children:[Object(p.jsxs)("span",{children:[Object(p.jsx)("div",{children:Object(p.jsx)(l.b,{to:"/profile/"+t.id,children:Object(p.jsx)("img",{src:null!=t.photos.small?t.photos.small:Z,alt:"image",className:X.a.userPhoto})})}),Object(p.jsx)("div",{children:t.followed?Object(p.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.unfollow(t.id)},children:"UnFollow"}):Object(p.jsx)("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.follow(t.id)},children:"Follow"})})]}),Object(p.jsxs)("span",{children:[Object(p.jsxs)("span",{children:[Object(p.jsx)("div",{children:t.name}),Object(p.jsx)("div",{children:t.status})]}),Object(p.jsxs)("span",{children:[Object(p.jsx)("div",{children:"u.location.country"}),Object(p.jsx)("div",{children:"u.location.city"})]})]})]},t.id)}))]})},Q=s.p+"static/media/Ball-1s-200px.0c804b5d.svg",V=function(e){return Object(p.jsx)("div",{children:Object(p.jsx)("img",{src:Q})})},K=function(e){Object(L.a)(s,e);var t=Object(E.a)(s);function s(){var e;Object(C.a)(this,s);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.getUsers(t,e.props.pageSize)},e}return Object(F.a)(s,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(p.jsxs)(p.Fragment,{children:[this.props.isFetching?Object(p.jsx)(V,{}):null,Object(p.jsx)(J,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,toggleFollowingProgress:this.props.toggleFollowingProgress,followingInProgress:this.props.followingInProgress})]})}}]),s}(r.a.Component),q=Object(I.b)((function(e){return{users:e.userPage,pageSize:e.userPage.pageSize,totalUsersCount:e.userPage.totalUsersCount,currentPage:e.userPage.currentPage,isFetching:e.userPage.isFetching,followingInProgress:e.userPage.followingInProgress}}),{follow:M,unfollow:R,setCurrentPage:function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},toggleFollowingProgress:B,getUsers:function(e,t){return function(s){s(z(!0)),U(e,t).then((function(e){s(z(!1)),s({type:"SET_USERS",users:e.items}),s({type:"SET_TOTAL_USERS_COUNT",count:e.totalCount})}))}}})(K),$=s(32),ee=s.n($),te=s(23),se=s.n(te),ae=s(17),re=s.n(ae),ne=function(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:re.a.postAvatar,children:Object(p.jsx)("img",{src:"https://pbs.twimg.com/profile_images/2881220369/2b27ac38b43b17a8c5eacfc443ce3384_400x400.jpeg",alt:"avatar"})}),Object(p.jsx)("div",{className:re.a.angle})]})},ie=function(e){return Object(p.jsxs)("div",{className:re.a.postItem,children:[Object(p.jsx)(ne,{}),Object(p.jsx)("div",{className:re.a.postMessage,children:e.message})]})},ce=function(e){var t=e.dialogsData.map((function(e){return Object(p.jsx)(ie,{message:e.message,id:e.id},e.id)}));return Object(p.jsxs)("div",{className:se.a.postList,children:[Object(p.jsx)("div",{className:se.a.wrapperDialogs,children:t}),Object(p.jsxs)("div",{className:se.a.wrapperTextarea,children:[Object(p.jsx)("div",{children:Object(p.jsx)("textarea",{onChange:e.onPostChange,value:e.messageForNewPost,children:" "})}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{onClick:e.addPost,children:"Add post"})})]})]})},oe={dialogsData:[{id:1,message:"Hello people!!!!"},{id:2,message:"How are you?"},{id:3,message:"Very nice!!!"}],messageForNewPost:"",profile:null},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var s={id:4,message:e.messageForNewPost};return Object(O.a)(Object(O.a)({},e),{},{dialogsData:[].concat(Object(b.a)(e.dialogsData),[s]),messageForNewPost:""});case"UPDATE-NEW-POST-TEXT":return Object(O.a)(Object(O.a)({},e),{},{messageForNewPost:t.newText});case"SET_USER_PROFILE":return Object(O.a)(Object(O.a)({},e),{},{profile:t.profile});default:return e}},ue=Object(I.b)((function(e){return{dialogsData:e.profilePage.dialogsData,messageForNewPost:e.profilePage.messageForNewPost,profile:e.profilePage.profile}}),(function(e){return{addPost:function(){e({type:"ADD-POST"})},onPostChange:function(t){var s=t.currentTarget.value;e({type:"UPDATE-NEW-POST-TEXT",newText:s})}}}))(ce),je=s(20),pe=s.n(je),ge=function(e){return e.profile?Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:pe.a.wrapperImg,children:Object(p.jsx)("img",{src:"https://store.fcbarcelona.com/medias/Secciones-Desktop-copy.jpg?context=bWFzdGVyfHJvb3R8NDUyNDkyfGltYWdlL2pwZWd8aDQzL2g1OC84ODc4MzQwMDQ2ODc4L1NlY2Npb25lc19EZXNrdG9wIGNvcHkuanBnfGQwOWY1YzQ2OWYxZGY2ZDUyMzcxMThkMjgwNGNlNDBjZWM1YTc5ZDJlYzFkN2Y3ODFiYWI0NzEwNWVjMWI4MWU",alt:"Barca"})})}),Object(p.jsxs)("div",{className:pe.a.wrapperInfo,children:[Object(p.jsx)("div",{className:pe.a.imgAvatar,children:Object(p.jsx)("img",{src:e.profile.photos.large,alt:"img"})}),Object(p.jsxs)("div",{className:pe.a.wrapperTextInfo,children:[Object(p.jsx)("span",{children:Object(p.jsx)("p",{children:e.profile.fullName})}),Object(p.jsx)("span",{children:Object(p.jsx)("p",{children:e.profile.aboutMe})})]})]})]}):Object(p.jsx)(V,{})},de=function(e){return Object(p.jsxs)("div",{className:ee.a.wrapper,children:[Object(p.jsx)(ge,{profile:e.profile}),Object(p.jsx)("div",{className:ee.a.wrapperDialogs,children:Object(p.jsx)(ue,{})})]})},be=function(e){Object(L.a)(s,e);var t=Object(E.a)(s);function s(){return Object(C.a)(this,s),t.apply(this,arguments)}return Object(F.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e="2"),this.props.getUserProfile(e)}},{key:"render",value:function(){return this.props.isAuth?Object(p.jsx)(de,Object(O.a)(Object(O.a)({},this.props),{},{profile:this.props.profile})):Object(p.jsx)(d.a,{to:"/login"})}}]),s}(r.a.Component),Oe=Object(d.f)(be),he=Object(I.b)((function(e){return{profile:e.profilePage.profile,isAuth:e.auth.isAuth}}),{getUserProfile:function(e){return function(t){y(e).then((function(e){t({type:"SET_USER_PROFILE",profile:e.data})}))}}})(Oe),fe=s(33),me=s.n(fe),xe=function(e){return Object(p.jsxs)("div",{className:me.a.header,children:[Object(p.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/en/thumb/4/47/FC_Barcelona_%28crest%29.svg/1200px-FC_Barcelona_%28crest%29.svg.png",alt:"Logo"}),Object(p.jsx)("div",{className:me.a.loginBlock,children:e.isAuth?e.login:Object(p.jsx)(l.b,{to:"/login",children:"Login"})})]})},_e={userId:null,email:null,login:null,isAuth:!1},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-USER-DATA":return Object(O.a)(Object(O.a)(Object(O.a)({},e),t.data),{},{isAuth:!0});default:return e}},Pe=function(e){Object(L.a)(s,e);var t=Object(E.a)(s);function s(){return Object(C.a)(this,s),t.apply(this,arguments)}return Object(F.a)(s,[{key:"componentDidMount",value:function(){this.props.getAuthUserData()}},{key:"render",value:function(){return Object(p.jsx)(xe,Object(O.a)({},this.props))}}]),s}(r.a.Component),we=Object(I.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{getAuthUserData:function(){return function(e){return G().then((function(t){if(0===t.data.resultCode){var s=t.data.data,a=s.id,r=s.login,n=s.email;e(function(e,t,s){return{type:"SET-USER-DATA",data:{userID:e,email:t,login:s}}}(a,n,r))}}))}}})(Pe),Ne=function(e){return Object(p.jsx)("h1",{children:"LOGIN"})};var De=function(){return Object(p.jsx)(l.a,{children:Object(p.jsxs)("div",{className:o.a.wrapper,children:[Object(p.jsx)(we,{}),Object(p.jsx)(g,{}),Object(p.jsxs)("div",{className:o.a.appWrapperContent,children:[Object(p.jsx)(d.b,{path:"/profile/:userId?",render:function(){return Object(p.jsx)(he,{})}}),Object(p.jsx)(d.b,{path:"/dialogs",render:function(){return Object(p.jsx)(S,{})}}),Object(p.jsx)(d.b,{path:"/users",render:function(){return Object(p.jsx)(q,{})}}),Object(p.jsx)(d.b,{path:"/login",render:function(){return Object(p.jsx)(Ne,{})}})]})]})})},Te=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,78)).then((function(t){var s=t.getCLS,a=t.getFID,r=t.getFCP,n=t.getLCP,i=t.getTTFB;s(e),a(e),r(e),n(e),i(e)}))},Ie=s(16),Se=s(47),Ce=Object(Ie.c)({profilePage:le,dialogsPage:f,userPage:Y,auth:ve}),Fe=Object(Ie.d)(Ce,Object(Ie.a)(Se.a));i.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsxs)(I.a,{store:Fe,children:[Object(p.jsx)(De,{}),","]})}),document.getElementById("root")),Te()}},[[77,1,2]]]);
//# sourceMappingURL=main.24cba38e.chunk.js.map